<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@4"></script>
<script type="text/javascript">
  const docsearchConfig = {
    appId: '4EQM7V9GDL',
    indexName: 'balena',
    apiKey: 'c4ee59c6b0002002c25673d00fe26425',
    // click and conversion tracking
    insights: true,

    // Custom missing results URL
    getMissingResultsUrl: ({ query }) => {
      return `https://github.com/balena-io/docs/issues/new?title=${encodeURIComponent(query)}`;
    },

    // Keyboard shortcuts configuration
    keyboardShortcuts: {
      'Ctrl/Cmd+K': true,
      '/': true,
    },

    // Maximum results per group
    maxResultsPerGroup: 6,

    // Recent searches configuration
    recentSearchesLimit: 7,
    recentSearchesWithFavoritesLimit: 5,
  };

  // Initialize DocSearch for default search
  docsearch({
    ...docsearchConfig,
    container: '.search-default-wrapper',
  });

  // Initialize DocSearch for 404 page search
  docsearch({
    ...docsearchConfig,
    container: '.search-404-wrapper',
  });

  // Initialize DocSearch for mobile search
  docsearch({
    ...docsearchConfig,
    container: '.search-mobile-wrapper',
  });
</script>